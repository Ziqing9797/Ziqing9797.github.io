---
layout:     post
title:      JS正则表达式
subtitle:   正则表达式的常用操作
date:       2018-10-29
author:     ZZQ
header-img: img/Aman.jpg
catalog: true
tags: 
    - JS能力测评经典题
---
### 知识回顾
#### 使用字符串方法：

在 JavaScript 中，正则表达式通常用于两个字符串方法 : `search()` 和 `replace()`。此外还有`march()`和`split()`,用法查看 [参考手册](http://www.runoob.com/jsref/jsref-obj-regexp.html)。

**search()** 方法： 用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串，并返回子串的起始位置。

**replace()** 方法： 用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。

#### 使用 RegExp 对象:
在 JavaScript 中，RegExp 对象是一个预定义了属性和方法的正则表达式对象。

**test()** 方法：`test()` 方法是一个正则表达式方法，此方法用于检测一个字符串是否匹配某个模式，如果字符串中含有匹配的文本，则返回 true，否则返回 false。
。此外还有`toString()`、`compile()`和`exec()`,用法查看 [参考手册](http://www.runoob.com/jsref/jsref-obj-regexp.html)。


### 题目

1. 给定字符串 str，检查其是否符合美元书写格式

   1. 以 $ 开始;
   2. 整数部分，从个位起，满 3 个数字用 , 分隔;
   3. 如果为小数，则小数部分长度为 2;
   4.正确的格式如：$1,023,032.03 或者 $2.03，错误的格式如：$3,432,12.12 或者 $34,344.3.


输入
```
'$20,933,209.93'
```
输出
```
true
```
*代码：*
```js
function isUSD(str) {
    return /^\$(0|[1-9]\d{0,2})(,\d{3})*(\.\d{2})?$/.test(str);
}
}
```
*解析：*

本题注意点有必须是USD格式，以$开头，数字结尾，$和小数点的转义。

首先，开头必是$，而正则表达式中$表示结尾，需要进行转义，因此开头为^\$

然后$后必然接数字，最少一位，最多三位数，且可以为0或非0。

'|'竖杠后面的0代表为0的一种可能。

'|'竖杠前面的[1-9]\d{0, 2}表示可以是1-3位的数字。

接着，后面如还有数，则必然有，分隔，并且后面必有3个数，

类似于，XXX的格式会出现0或者n次，因此此段可表示为(,\d{3})*

最后，如有小数部分，则注意对小数点进行转义，此段可表示为(\.\d{2})?,?表示0个或1个。

因此，最后的正则表达式为`/^\$(0|[1-9]\d{0,2})(,\d{3})*(\.\d{2})?$/`
使用test方法去检测str。
<html>
<div style="color:gray">--         解析来源于希留大神与MichealZuo </div>
</html>


----------------------------
2. 给定字符串 str，检查其是否包含 连续3个数字 
    1. 如果包含，返回最新出现的 3 个数字的字符串;
    2. 如果不包含，返回 false

输入
```
'9876543'
```
输出
```
987
```
*代码：*
```JS
function captureThreeNumbers(str) {
//声明一个数组保存匹配的字符串结果
  var arr = str.match(/\d{3}/);
     //如果arr存在目标结果，则返回第一个元素，即最早出现的目标结果
     if(arr)
         return arr[0];
     else return false;
}
```
*解析：*

题目描述有问题，实际考察的是字符串中是否含有连续的三个任意数字，而不是三个连续的数字。

依题，若存在连续的三个任意数字，则返回最早出现的三个数字，若不存在，则返回false。因此需要用到match方法，match()返回的是正则表达式匹配的字符串数组，连续的三个任意数字用正则表达式表示为/\d{3}/。  

<html>
<div style="color:gray">--         解析来源于希留大神</div>
</html>


----------------------

### 引用
- 菜鸟教程
- 题目来源于牛客网
